(this.webpackJsonpitiles_client=this.webpackJsonpitiles_client||[]).push([[0],{44:function(e,a,t){e.exports=t(76)},76:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(18),l=t.n(s),c=t(10),o=t.n(c),m=t(17),i=t(43),u=t(12),p=t.n(u),v=n.a.createContext({user:{},setUser:function(){}});var d=function(){var e=Object(r.useContext)(v).setUser;return function(){var a=Object(m.a)(o.a.mark((function a(t){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,p.a.post("/api/v1/users/",{email:t.target.email.value,password:t.target.password.value});case 4:"success"===(r=a.sent).data.status?e(r.data.user):alert("Unexpected Response"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),a.t0.response?alert(a.t0.response.data.message):alert(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()};var E=function(){var e=d();return n.a.createElement("div",null,n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:e},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email",className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Password"),n.a.createElement("input",{type:"password",name:"password",className:"form-control"})),n.a.createElement("div",{className:"form-group row justify-content-end"},n.a.createElement("input",{type:"submit",className:"btn btn-primary"})))))},f=t(79),b=t(80);var g=function(){var e,a=Object(r.useContext)(v),t=a.user,s=a.setUser;return e=t?"logged in":"logged out",n.a.createElement("p",null,e,n.a.createElement("button",{onClick:function(){p.a.get("api/v1/users/logout"),s(null)}},"logOut"))},w=t(14);var h=function(){return n.a.createElement(f.a,{bg:"light",expand:"lg"},n.a.createElement(w.b,{className:"navbar-brand",to:"/"},"iTiles"),n.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(b.a,{className:"mr-auto"},n.a.createElement(w.b,{className:"nav-link",to:"/home"},"Home"),n.a.createElement(w.b,{className:"nav-link",to:"/signin"},"Sign In"),n.a.createElement(w.b,{className:"nav-link",to:"/signup"},"Sign Up")),n.a.createElement(g,null)))};var N=function(){var e=Object(r.useContext)(v).setUser;return function(){var a=Object(m.a)(o.a.mark((function a(t){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,p.a.post("/api/v1/users/",{email:t.target.email.value,password:t.target.password.value,passwordConfirm:t.target.passwordConfirm.value,role:t.target.role.value});case 4:"success"===(r=a.sent).data.status?e(r.data.user):alert("Unexpected Response"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),a.t0.response?alert(a.t0.response.data.message):alert(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()};var x=function(){var e=N();return n.a.createElement("div",null,n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:e},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email",className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",name:"password",className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"passwordConfirm"},"Password"),n.a.createElement("input",{type:"password",name:"passwordConfirm",className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{name:"role"},n.a.createElement("option",{value:"customer"},"Customer"),n.a.createElement("option",{value:"vendor"},"Vendor")),n.a.createElement("div",{className:"form-group row justify-content-end"},n.a.createElement("input",{type:"submit",className:"btn btn-primary"}))))))},y=(t(75),t(3));var k=function(){var e=Object(r.useState)(null),a=Object(i.a)(e,2),t=a[0],s=a[1];return Object(r.useEffect)((function(){Object(m.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("api/v1/users/",{withCredentials:!0});case 3:a=e.sent,s(a.data.user),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),n.a.createElement(v.Provider,{value:{user:t,setUser:s}},n.a.createElement(w.a,null,n.a.createElement(h,null),t?n.a.createElement(y.a,{to:"/home"}):null,n.a.createElement(y.d,null,n.a.createElement(y.b,{exact:!0,path:"/signin"},n.a.createElement(E,null)),n.a.createElement(y.b,{exact:!0,path:"/signup"},n.a.createElement(x,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.cd1c2782.chunk.js.map